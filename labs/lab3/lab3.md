# Лабораторная работа №3 по предмету "Операционные системы". Преподаватель Данилов А.С.

## Что нужно сделать
- создайте два процесса
- в первом процессе создайте бинарный файл со случайными данными (не пустой и не с 0!!!!) размером 100 Мбайт или больше и через mmap (и его аналоги в вашем языке программирования) отобразите этот файл в адресное пространство первого процесса
- после этого в первом процессе обратитесь последовательно к страницам первой половины файла: это вынудит ОС загрузить эти страницы в оперативную память (размер страницы почти всегда 4096 байт, но вы можете получить это значение из системы)
- важно не просто обращаться к странице (не просто читать данные), а например суммировать прочитанный результат: это позволит избежать оптимизации компилятора/интерпретатора, которые могут удалить обращение к памяти, если результат чтения не используется (мертвый код)
- достаточно считать лишь один байт из каждой страницы, чтобы вынудить ОС загрузить эту страницу в оперативную память
- после этого первый процесс посылает сигнал второму процессу, второй процесс отображает в свою память ТОТ ЖЕ бинарный файл (половина которого, по идее, уже в оперативной памяти)
- после чего второй процесс считывает данные из первой половины файла и засекает время обращения ("считывать" данные можно точно так же, как вы это делали в первом процессе)
- после этого второй процесс последовательно обращается ко второй половине файла и засекает время
- возможно, имеет смысл сделать "случайный" обход первой и второй половины страниц вторым процессом. Для этого вначале сгенерируйте случайный порядок обхода страниц (но важно обходить все страницы), а потом в этом порядке обходите первую и вторую половину (случайный порядок обход одинаков для обеих половин). Иначе возможно, что ОС будет при последовательном обходе подтягивать нужные страницы "наперед", а при случайном обходе так не получится
- может быть, лучше запускать на линуксе или маке, потому что в винде результаты могут отличаться (на маке и линуксе, вроде как, все работает). Вы должны получить, что время обхода второй половины, если до этого обращались только к первой, заметно дольше, чем к первой (как минимум на 10%, а то и все 35%)
- сделайте минимум 5 замеров и возьмите средний результат
- для каждого замера создавайте новый файл
- нужно будет объяснить результат и в целом уметь объяснить, что такое виртуальная память и как она работает
- после чего измените эксперимент: первый процесс должен последовательно обращаться ко всему файлу, а не только к первой его половине
- после чего второй процесс так же засекает время обращения к первой половине и ко второй половине файла
- сделать так же 5 замеров и взять средние значения
- по идее, у вас должно получится, что теперь время обращения одинаковое (или даже, что ко второй половине несколько быстрееы)
- быть готовым объяснить результат и в целом весь код
- на оценку отлично также измерить major fault и minor fault во время работы второго процесса для каждого из экспериментов (так же взять среднее; major fault и minor fault доступны только на линукс, следовательно, код надо запускать там). Разумеется, быть готовым объяснить полученные результаты  (на оценку 4 нужно сделать все перечисленное выше, кроме major fault и minor fault).

P.S. Лабораторная придумана полностью мной, поэтому могут быть огрехи. У меня на Python, вроде как, все получилось. Но если что-то непонятно или не получается - то смело пишите в телеге. Тема непростая, в случае чего будем разбираться вместе.

## Отчет
- титульный лист
- постановка задания
- процесс решения
- полученные результаты
- объяснение полученных результатов
- выводы
- приложение (тут ваш код)